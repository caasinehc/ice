<!DOCTYPE html>
<html>
	<head>
		<title>ice.js</title>
		<style>
			body {
				font-family: "Verdana";
			}
		</style>
	</head>
	<body>
		<h1>ice.js</h1>
		<p>A Multi-purpose Javascript library written by and for me, Isaac.</p>
		<p>Here's a convenient tool to help you use ice.js!</p>
		
		<form id="importTool">
			<fieldset onclick="updateModules();">
				
				<legend>Modules to include: </legend>
				
				<label>
					<input type="radio" name="importAll" value="all" onclick="setSpecify(false);" id="importAll" checked />
					All modules<br />
				</label>
				<label>
					<input type="radio" name="importAll" value="specify" onclick="setSpecify(true);" />
					Specify:
				</label>
		
				<ul style="list-style: none; margin: 0px;">
					<li>
						<label>
							<input type="checkbox" id="allCB" onclick="toggleEverything();" disabled />
							Select all
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox" id="mathCB" disabled />
							Math
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox" id="physicsCB" disabled />
							Physics
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox" id="colorsCB" disabled />
							Colors
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox" id="debugCB" disabled />
							Debug
						</label>
					</li>
				</ul>
			</fieldset>
		</form>
		<label>
			HTML embed:
			<textarea id="embedInput"></textarea>
		</label>

		<script>
			var modules = {
				math: document.getElementById("mathCB"),
				physics: document.getElementById("physicsCB"),
				colors: document.getElementById("colorsCB"),
				debug: document.getElementById("debugCB")
			}
			var allCB = document.getElementById("allCB");
			var importAll = document.getElementById("importAll");
			var embedInput = document.getElementById("embedInput");
			
			function toggleEverything() {
				for(var module in modules) {
					modules[module].checked = allCB.checked;
				}
			}
			function updateModules() {
				var allChecked = true;
				for(var module in modules) {
					if(!modules[module].checked) {
						allChecked = false;
						break;
					}
				}
				allCB.checked = allChecked;
				updateOutput();
			}
			function setSpecify(enabled) {
				allCB.disabled = !enabled;
				for(var module in modules) {
					modules[module].disabled = !enabled;
				}
			}
			function updateOutput() {
				var toInclude = [];
				if(importAll.checked) {
					toInclude.push("src/ice.js");
				}
				else {
					for(var module in modules) {
						if(modules[module].checked) {
							toInclude.push("src/ice." + module + ".js");
						}
					}
				}
				updateEmbed(toInclude);
			}
			function updateEmbed(toInclude) {
				var text = "";
				for(var module of toInclude) {
					text += "<script src=\"https://caasinehc.github.io/ice/" + module + "\"><\/script>\n";
				}
				embedInput.innerText = text;
				//embedImport.select();
				//embedImport.focus();
			}
		</script>
	
	</body>
</html>
